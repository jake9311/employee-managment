<div class="container" *ngIf="report">
  <mat-card class="report-card">
    <mat-card-title> פרטי דיווח</mat-card-title>
    <mat-card-content>
      <p><strong>שם עובד:</strong> {{ report.guardName }}</p>
      <p><strong>סוג:</strong> {{ report.type }}</p>

      <ng-container *ngIf="report.type === 'איחור'">
        <p><strong>תאריך:</strong> {{ report.date | date: 'dd/MM/yyyy' }}</p>
        <p><strong>שעה מתוכננת:</strong> {{ report.scheduledHour }}</p>
        <p><strong>שעת הגעה בפועל:</strong> {{ report.actualHour }}</p>
        <p><strong>סיבה:</strong> {{ report.reason }}</p>
      </ng-container>

      <ng-container *ngIf="report.type === 'מחלה'">
        <p><strong>מתאריך: </strong> {{ report.startDate | date: 'dd/MM/yyyy' }}</p>
        <p><strong>עד תאריך:</strong> {{ report.endDate | date: 'dd/MM/yyyy' }}</p>
        <p><strong>סיבה:</strong> {{ report.reason }}</p>
        <p class="approval-row">
          <span>
            <strong>אישור מחלה:</strong>
            {{ report.hasApproval ? 'הובא ✅' : 'לא הובא ❌' }}
          </span>

          <button mat-raised-button (click)="toggleApproval()" [disabled]="saving">
            {{ report.hasApproval ? 'סמן: לא הובא' : 'סמן: הובא' }}
          </button>
        </p>
      </ng-container>

      <ng-container *ngIf="report.type === 'ביטול'">
        <p><strong>תאריך:</strong> {{ report.date | date: 'dd/MM/yyyy' }}</p>
        <p><strong>סיבה:</strong> {{ report.reason }}</p>
      </ng-container>
    </mat-card-content>

    <mat-card-actions>
      <button mat-button (click)="goBack()">חזור</button>
    </mat-card-actions>

    <div *ngIf="!report">
      <p>לא נמצא דיווח להצגה.</p>
    </div>
  </mat-card>
</div>
